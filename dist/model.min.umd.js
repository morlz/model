!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t["@morlz/model"]=r()}(this,function(){var t=function(t){void 0===t&&(t=!1),t&&this._init(t)},r={key:{configurable:!0},instance:{configurable:!0},href:{configurable:!0},serialize:{configurable:!0}},e={__private__:{configurable:!0}};return r.key.get=function(){if(void 0===this.id)throw new Error("key is undefined");return this.id+""},t.prototype.defineProperty=function(t,r,e){return void 0===e&&(e=!1),r===Boolean?this.defineBoolean(t):r===Number?this.defineNumber(t):r===String?this.defineString(t):(e&&(this[this.constructor.prefix+t]=[]),void Object.defineProperty(this,t,{get:function(){if(e){var n=this[this.constructor.prefix+t]||[];n.every(function(t){return t instanceof r})||(this[t]=n)}return this[this.constructor.prefix+t]},set:function(n){if(e){if(!Array.isArray(n))return console.warn(t+" must be an Array");this[this.constructor.prefix+t]=n.map(function(t){return t instanceof r?t:new r(t)})}else this[this.constructor.prefix+t]=!n||n instanceof r?n:new r(n)},configurable:!0}))},t.prototype.define=function(t,r){for(var e in void 0===r&&(r=!1),this.__props__=t,t)if(t.hasOwnProperty(e))if("string"==typeof t[e])this.translateProperty(e,t[e]);else{var n=Array.isArray(t[e]);this.defineProperty(e,n?t[e][0]:t[e],n)}r&&this._init(r)},t.prototype.defineBoolean=function(t){Object.defineProperty(this,t,{get:function(){return this[this.constructor.prefix+t]},set:function(r){this[this.constructor.prefix+t]=!!+r},configurable:!0})},t.prototype.defineNumber=function(t){Object.defineProperty(this,t,{get:function(){return+this[this.constructor.prefix+t]},set:function(r){this[this.constructor.prefix+t]=+r},configurable:!0})},t.prototype.defineString=function(t){Object.defineProperty(this,t,{get:function(){return this[this.constructor.prefix+t]+""},set:function(r){this[this.constructor.prefix+t]=r+""},configurable:!0})},t.prototype.translateProperty=function(t,r){Object.defineProperty(this,t,{get:function(){return this._getProperty(r)},set:function(t){this._setProperty(r,t)},configurable:!0})},t.prototype._init=function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])},t.prototype._getProperty=function(t){return t.split(".").reduce(function(t,r){return null==t[r]?"":t[r]},this)},t.prototype._setProperty=function(t,r){var e=this,n=t.split(".");n.reduce(function(t,i,o){return t[i]?o+1==n.length?e.constructor.__setVueProperty(t,i,r):t[i]:e.constructor.__setVueProperty(t,i,o+1==n.length?r:{})},this)},t.__setVueProperty=function(t,r,e){if(this.constructor.Vue)return this.constructor.Vue.set(t,r,e);t[r]=e},r.instance.get=function(){return this},t.prototype.update=function(r){for(var e in r)r.hasOwnProperty(e)&&(this[e]instanceof t?this[e].update(r[e]):this[e]=r[e]);return this},t.prototype.clone=function(){var t=this;return new this.constructor(Object.getOwnPropertyNames(this).reduce(function(r,e){return r[e]=t[e],r},{}))},r.href.get=function(){if(this.baseUrl)return this.constructor.format(this.baseUrl,this)},t.format=function(t,r){if("string"!=typeof t)throw new Error("template mus be an instance of String");if("object"!=typeof r||null===r)throw new Error("data must be an Object with keys is template marks and values is String");return t.replace(/{(\w+)}/g,function(t,e){return r[e]})},t.wrap=function(t,r){return void 0===r&&(r="id"),void 0!==t[r]?new this(t):t},t.wrapArray=function(t){var r=this;return Array.isArray(t)?t.map(function(t){return new r(t)}):t},r.serialize.get=function(){var t=this,r="function"==typeof this.constructor.fields?this.constructor.fields():this.constructor.fields;return Array.isArray(r)?r.reduce(function(r,e){return r[e]=t[e],r},{}):this},t.prototype.toObject=function(){var r=this,e=Object.keys(this.__props__),n=new RegExp("^"+prefix,"g");for(var i in this)e.includes(i.replace(n,""))||this.constructor.__private__.includes(i)||e.push(i);return e.reduce(function(e,n){return e[n]=r[n]instanceof t?r[n].toObject():Array.isArray(r[n])?r[n].map(function(r){return r instanceof t?r.toObject():r}):r[n],e},{})},e.__private__.get=function(){return["__props__","__private__","__ob__"]},Object.defineProperties(t.prototype,r),Object.defineProperties(t,e),t.prefix="_",t});
//# sourceMappingURL=model.min.umd.js.map
